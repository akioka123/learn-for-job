# 047
## A/Bテストの実施
要件
1. パフォーマンス影響を抑える。
1. 一部コンテンツは最大24時間キャッシュされる。
1. CloudFrontを使用している。

結果 \
CloudFrontにはルーティングの機能はないので、Route53による加重ルーティングでA/Bテストを実施する。
Blue/Greenデプロイにも利用可能

### CloudFront
- 世界に点在するエッジサービス（CDN）。リージョンのコンテンツをキャッシュし、顧客に高速でコンテンツを届ける。
- キャッシュ機能を持つ。キャッシュの無効化にはコストがかかる。

## ロールバックの高速化
要件
1. アプリはEC2上で動作している。
1. 負荷分散にELBを使用している。
1. 前回のロールバックには4時間かかっている。
   
結果 \
AWS Opsworks スタックを使用してアプリを再度デプロイし、DeploymentCommandを使用して障害時にロールバックを実施する。

